{
  "schemaVersion": "v3",
  "description": "Testing a deeper tree for partitioning",
  "fields":
  [
    { "name": "UserType" },
    { "name": "Post" },
    { "name": "PostType" },
    { "name": "Action" },
    { "name": "Topic" },
    { "name": "Event" },
    { "name": "Duration" }
  ],
  "rules": [{
    "rule": "UserType",
    "constraints": [{
      "field": "UserType",
      "is": "inSet",
      "values": [
        "A",
        "B",
        "C",
        "D",
        "E"
      ]
    },{
      "not": {
        "field": "UserType",
        "is": "null"
      }
    }]
  },{
    "rule": "PostType",
    "constraints": [{
      "field": "PostType",
      "is": "inSet",
      "values": [
        "PostType1",
        "PostType2",
        "PostType3",
        "PostType4"
      ]
    },{
      "not": {
        "field": "PostType",
        "is": "null"
      }
    },{
      "if": {
        "field": "UserType",
        "is": "equalTo",
        "value": "A"
      },
      "then": {
        "field": "PostType",
        "is": "inSet",
        "values": [
          "PostType1",
          "PostType4"
        ]
      }
    },{
      "if": {
        "field": "UserType",
        "is": "inSet",
        "values": [
          "C",
          "D"
        ]
      },
      "then": {
        "field": "PostType",
        "is": "inSet",
        "values": [
          "PostType2",
          "PostType3"
        ]
      }
    }]
  },{
    "rule": "Post",
    "constraints": [{
      "field": "Post",
      "is": "ofType",
      "value": "string"
    },{
      "not": {
        "field": "Post",
        "is": "null"
      }
    },{
      "if": {
        "field": "PostType",
        "is": "equalTo",
        "value": "PostType1"
      },
      "then": {
        "field": "Post",
        "is": "shorterThan",
        "value": 20
      }
    }]
  },{
    "rule": "Action",
    "constraints": [{
      "field": "Action",
      "is": "inSet",
      "values": [
        "ActionA",
        "ActionB",
        "ActionC"
      ]
    },{
      "if": {
        "field": "UserType",
        "is": "equalTo",
        "value": "C"
      },
      "then": {
        "if": {
          "field": "PostType",
          "is": "equalTo",
          "value": "PostType2"
        },
        "then": {
          "field": "Action",
          "is": "equalTo",
          "value": "ActionB"
        }
      }
    }]
  },{
    "rule": "Topic",
    "constraints": [{
      "field": "Topic",
      "is": "ofType",
      "value": "string"
    },{
      "field": "Topic",
      "is": "shorterThan",
      "value": 30
    },{
      "not": {
        "field": "Topic",
        "is": "null"
      }
    },{
      "if": {
        "field": "Event",
        "is": "inSet",
        "values": [
          "FirstEvent",
          "SecondEvent"
        ]
      },
      "then": {
        "field": "Topic",
        "is": "inSet",
        "values": [
          "InterestingTopic",
          "TechnicalTopic"
        ]
      }
    }]
  },{
    "rule": "Event",
    "constraints": [{
      "field": "Event",
      "is": "inSet",
      "values": [
        "FirstEvent",
        "SecondEvent",
        "ThirdEvent"
      ]
    }]
  },{
    "rule": "Duration",
    "constraints": [{
      "field": "Duration",
      "is": "ofType",
      "value": "numeric"
    },{
      "not": {
        "field": "Duration",
        "is": "null"
      }
    },{
      "if": {
        "field": "Event",
        "is": "equalTo",
        "value": "FirstEvent"
      },
      "then": {
        "if": {
          "field": "Topic",
          "is": "equalTo",
          "value": "InterestingTopic"
        },
        "then": {
          "field": "Duration",
          "is": "equalTo",
          "value": "60"
        }
      }
    }]
  }]
}